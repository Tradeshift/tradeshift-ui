sudo: required
dist: trusty
language: node_js
node_js:
- 6
branches:
  only:
  - master
install:
- npm i -g grunt-cli
- npm i -g stream-browserify && cd tasks/travis-notify-geckoboard/ && yarn
- node bin/travis-notify-geckoboard.js -a $GECKOBOARD_API_KEY -w $GECKOBOARD_WIDGET_KEY
  -s true
- cd .. && cd ..
- yarn
script:
- npm test
after_script:
- node tasks/travis-notify-geckoboard/bin/travis-notify-geckoboard.js -a $GECKOBOARD_API_KEY
  -w $GECKOBOARD_WIDGET_KEY
cache:
  directories:
  - node_modules
  - tasks/travis-notify-geckoboard/node_modules
notifications:
  webhooks:
    urls:
    - https://webhooks.gitter.im/e/78a9fadbca7e126c06bc
    on_success: change
    on_failure: always
    on_start: never
env:
  global:
  - secure: xUMTjdzkHzVplE5sYXjENqs9VyCdqzel/WmjneGUXG6hp8Ztr8iLmAX7blPLox//LUvhMNJ7xj/BrpF2b8ZKaipL1CALmztPQXzKaisQD5J+Xpyn1NDN75WdGlAiq126SNeyVMtZUWuC5f7mXFufwspeYCn+vw/6yE9eM5XZs8w6O/EbAuXz8HsTxDJ1cmvj1EpvQ3avVIvE9gHhMHEBJSWXvpOE+VzbrtrsVdkITiRswif6l7g7GHiPjJZXY3AGHQ7jfiiJWgxJaIfYjT8GaxLL5qFCJWz/fBmzzfMqvjgONtOI/y5YoBdDhct+3XO1ZP8KUScBDm9nHvtnMijv3Ssg4plu20d2QukIEPUBu6XuT5b8cJkpkenW+NXi4QlNbZwIygAgblvdVidIAQCGNjneaZJHAnuBx9N9hjlN31Xo8WGLzV0L8ttrddBS8z7jD79wQW0dg0jz82IGt45ZKPGNfpfeYYfDXf3f8R/i+9M5nkgW3qfw98cXkwRkWDIYrNkRLLrDqG5JGDceIShyB+nI+39okVRDoyDMmiPZayvu9oXqIm1dwW/bge2EpRxzXjLgfK2PHerRu/VrWdUUSgwf1+erP4SVDR2PwW8g/YgF9S1BTrrZobX2Dp4rtF+l1sG4FD8jzmfDYVS/ts74ZP2/5ei6lhsbiahV2HUAxYc=
  - secure: OyioRNbUUcg65zCiB3eF34IPPXSH7i2gFxnKjueVWIfbg72Pt1rD/zXfP6fuCKg9ZlhjZP2mTd3oVzJCDTI8d/hB5dQa0/VbkdoKL+0u9dA0npmRPdPfOnihc3klEqKaY5fOsF3HVjDFePHIpqQ2DxUeCHfT+MP1GtJj+3NJ5Re+uvOOXcpHR7HYpwEPDZodgg2Dhp6Ch7aHaRGApDNL3nx3RGccCLGoWY95qRPZJNaq/xeGpqL4UPxB72R6ifPNI45DkrUdQnIPt6awoqunVtI1UbkYHTnZV4x0xLCE77nkYdk0KBB/tfF2NEfeWyCwLw+6iKa0jozbFN+8nz7nC85jC2cdjxtnBeNTwZ/rLUwCF8eDyy75DcVqi+hotnqRqkTjmQlfPUPmRyY5Ej2IKF95T16KRHE9miqGrLzatvgLSOZUNc7CfOUx7LvfgCImCT/My4WQYMh4o0HjHZJAneBVPGpN9uBGUGgGrmiYC45sbGEptLrQdtszLL7/hWzL8/oucRB/Q5jQ8YkHB0hk9nwqeI3K+z2PKbHx+mx9d5o7Kg+Yllc8X+Ct6RwwNq5AXhXrCCpB/sfSEY/F1/u7KgJeaIo+KoGw5RYYzX61efbUzKYSRNjiASoWFR/OVhuQmPn89vKk48N8xbNuuNZBPJ3jwecy2bOjNz0DVbwJSsU=
  - secure: dLwMYoze/AW1Y5TMj4w+itiXZ/6NoSgdBDhAdmOT1elPE0nuhsD/3GRZ1kpaeZGUdXMyUzEtJwb2cpHbwd7DSR/LThrY7iLwuPA+ymLJTtqY1KOlXkiqP1ltbA/Ch/ehLVppDZoS/HLiSK6HDnnswAA3QcIwgcOytjTMnRAtQD3XVKyk913284HL97jFNY5UsE5NipmjilGUPayAU98UEW7M3Jcvxk/d7u/otcjC/nDHLG/yFIXB4/9t5d6wU0AzaT/EmG8rx4pEc4GHR+cgd1Z3JibhhLEDMIJBc5c4cMz9/P3pW4hNLl9MeFXmUGg9qHyhJjRsTkAQEGMhzJjpIh9aWKvSx8OJpRsezLkRCgUHX65uogkBzqxtGl/vrqjIBvDR3n6tsVvTQgLXGqhLSnlQO8tZSDF+MovMjkabXbU4DJiBB+0pn+DE5uZczKc59O1+fpwpu2RDuDtgnWL4LqDiv0ZQR4eLdbgbrbyWGC6LCYXXWZeoEVx6rq2aPEVKffEImvmC5lkMsOw4PqSRoc0VvANFZXFC0Cf+/B2oeVSZJP/aUD5dhHKiJsKn+LMYH0RCA/2UUAWhHdx6X8A0ckuG6fPqcuI2uJaUnoGRaeF+hBHFP8NTmdTuaJYlS+fpQuQ+AdDuatVRon+rEtZEolrxvimSo5M+425RviUJwUg=
  - secure: A0DIHR0U34OYAx5CXgKaDsO+IVjV2c0S1vOoE3Uw1BHW4QA7DjV5MgatZ5tEC/9qDxDXsvlMpFClMaeXrJOfWv7bDKK4ygIeQTV1nLPq+AyyUUvUVEc/caQhBmYqbycNJBtVMCzy12AVewFrSB5VDdhPTPxa5sD/xrUkh/gLbgSTgyk5Fada6xJyxA7FZ+iCRNoMx92NQRy+TFHz+pwrPt9ZZEMCw93tEjL3CBK7vHjWRgLUSG2zSKn5g8xZ0JyD6PW3Z8G3wVEWctzFs8zIvInpp9CXP94zcaPBCjHBwiESGEiLlsZUN4KQ4vSFbGxWEGRtzjlzp1uYapc5btg+V+ON3bwSVb7EjbxloIOlbD9DZbwxCxdGw4VPu2yTYFWFvGe3XqZpWQrw92gfWbN3jXX1384S1K6y8fhJYvTtSDGmfXh5dKe02XbIkCPPAfBpzkEQA/igYVMhLhLSEwqsanJohEguCyO0r925JR2bLb5XyKUMMZ63eB+9SmPrisDiPH9gAe3P2N+rZjruXR3SOf6a0TSFyKHZs8Mbfa51XUXtJftrGNqYyrG3mDM8l29cX5bYcvqTkeyg7cr7+wM4HTUQCc0vImzc7Xc5NUS3bAChP86uka6rU9NUBvwiGpjsp5QVb8vHqHtbwEOKcqIg9eIR/hXDhd7kBf3N3xKrX8E=
