figure {
	background-color: @ts-white;
	position: relative;
	.ts-toolbar {
		background-color: @ts-lite-lite;
		.ts-mixin-rounded-t();
		margin: 0;
	}
	.output {
		padding: @ts-unit;
	}
	.tabs {
		.ts-mixin-rounded-t();
		margin: 0;
		border: 1px solid @ts-lite-lite;
		border-bottom: 0 none;
		&:empty {
			border: 0 none;
		}
		font-size: @ts-fontsize-mini;
		text-align: right;
		&:after {
			content: '';
			clear: left;
			display: block;
			height: 0;
		}
		button {
			display: inline-block;
			padding: @ts-unit-quarter @ts-unit;
			color: @ts-medium;
			span {
				line-height: @ts-unit-double;
			}
			span + svg {
				position: relative;
				top: 8px;
				margin-left: 6px;
				fill: currentColor;
			}
			&:hover {
				background-color: fade(@ts-lite-dark, 75%);
				cursor: pointer;
			}
			&.selected {
				background-color: @ts-lite-lite;
				color: @ts-medium-dark;
				cursor: default;
			}
			&.tab {
				float: left;
				&:first-child {
					.ts-mixin-rounded-tl();
				}
			}
			&.run {
				padding-left: @ts-unit;
				padding-right: @ts-unit;
			}
			&.edit,
			&.revert {
				float: left;
				svg {
					top: 4px;
				}
			}
		}
	}
	.tabpanels {
		position: relative;
		.ts-textarea.editcode {
			.ts-mixin-maximize();
			.docs-mixin-editor();
			font-family: @ts-fontstack-mono;
			width: 100%;
			height: 100% !important;
			padding: @ts-unit 0 @ts-unit @ts-unit;
			overflow: auto;
			resize: none;
			&:focus {
				background-color: rgb(253, 254, 213);
			}
			&:not(:focus) {
				background-image: -webkit-linear-gradient(@superliteblue 50%, @ts-white 50%);
				background-image: -moz-linear-gradient(@superliteblue 50%, @ts-white 50%);
				background-image: -ms-linear-gradient(@superliteblue 50%, @ts-white 50%);
				background-image: -o-linear-gradient(@superliteblue 50%, @ts-white 50%);
				background-image: linear-gradient(@superliteblue 50%, @ts-white 50%);
				background-size: @ts-unit-double @ts-unit-double;
				background-origin: content-box;
			}
		}
	}
	.message {
		position: absolute;
		top: 0;
		left: 100%;
		margin-left: @ts-unit-half;
		background-color: @ts-yellow;
		color: @ts-yellow-text;
		padding: @ts-unit-quarter @ts-unit-half;
		white-space: nowrap;
		text-align: center;
		z-index: 1;
		display: none;
		i {
			top: 1px;
		}
	}
	&.attention {
		.message {
			display: block;
		}
	}
}

/* Color scheme duplicated from Prism ....................................... */

.el {
	color: #c92c2c;
}
.attr-pair span:last-child,
.attr-value {
	color: #1990b8;
}
.attr-pair span:first-child,
.attr-name {
	color: #2f9c0a;
}
.function {
	color: #c92c2c;
}

/* Prism .................................................................... */

pre.prism {
	display: block;
	margin: 0;
	padding: 0;
	-webkit-user-select: text;
	-moz-user-select: text;
	-ms-user-select: text;
	user-select: text;
	color: @ts-black;
	direction: ltr;
	text-align: left;
	.docs-mixin-editor();
	overflow-y: visible;
	overflow-x: auto;
	background-image: -webkit-linear-gradient(@ts-white 50%, @superliteblue 50%);
	background-image: -moz-linear-gradient(@ts-white 50%, @superliteblue 50%);
	background-image: -ms-linear-gradient(@ts-white 50%, @superliteblue 50%);
	background-image: -o-linear-gradient(@ts-white 50%, @superliteblue 50%);
	background-image: linear-gradient(@ts-white 50%, @superliteblue 50%);
	background-size: @ts-unit-double @ts-unit-double;
	background-origin: content-box;
	code {
		font-size: 14px;
		display: block;
		padding: @ts-unit;
		padding-bottom: 0; // but why?
	}
}
.token.comment,
.token.block-comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #7d8b99;
}
.token.punctuation {
	color: #5f6364;
}
.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.function-name,
.token.constant,
.token.symbol {
	color: #c92c2c;
}
.token.selector,
.token.attr-name,
.token.string,
.token.function,
.token.builtin {
	color: #2f9c0a;
}
.token.operator,
.token.entity,
.token.url,
.token.variable {
	color: #a67f59;
	background: rgba(255, 255, 255, 0.5);
}
.token.atrule,
.token.attr-value,
.token.keyword,
.token.class-name {
	color: #1990b8;
}
.token.class-name {
	color: black;
}
.token.regex,
.token.important {
	color: #e90;
}
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: rgba(255, 255, 255, 0.5);
}
.token.important {
	font-weight: normal;
}
.token.entity {
	cursor: help;
}
.namespace {
	opacity: 0.7;
}
.token.tab:not(:empty):before,
.token.cr:before,
.token.lf:before {
	color: #e0d7d1;
}
.runnable pre.prism,
.runnable textarea {
	cursor: text;
}
